"use strict";(self.webpackChunkqStudio=self.webpackChunkqStudio||[]).push([[372],{372:function(r,e,a){a.r(e),a.d(e,{default:function(){return l},fromOrderBookToSurface:function(){return h}});var n=a(1413),t=a(5671),i=a(3144),o=a(136),s=a(7277),u=(a(3661),a(4530)),c=a(4934),m=a(7313),f=a(6417);function h(r){var e=r.d(),a=(r.count(),[]);return e.forEach((function(r,e){for(var n=0;n<=20&&void 0!==r["as"+n];n++){var t=r["a"+n],i=r["as"+n];"number"===typeof t&&"number"===typeof i&&a.push([-e,t,i])}})),a}var l=function(r){(0,o.Z)(a,r);var e=(0,s.Z)(a);function a(){return(0,t.Z)(this,a),e.apply(this,arguments)}return(0,i.Z)(a,[{key:"toSurfaceOption",value:function(r,e){var a=r.chartRS.numericColumns,t="3dbar"===this.props.chartType,i=[],o=["x","y","z"];if(r.isOrderBook())o=["time","price","size"],i=h(r);else{o=[a[0].name,a[1].name,a[2].name];for(var s=0;s<r.count();s++)i.push([a[0].vals[s],a[1].vals[s],a[2].vals[s]])}var c=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;i.forEach((function(r){c=Math.min(r[0],c),m=Math.max(r[0],m),f=Math.min(r[1],f),l=Math.min(r[2],l),p=Math.max(r[2],p)}));var d="dark"===e?"#EEE":void 0,I={type:"value",axisLabel:{color:d},axisTick:{lineStyle:{color:d}},axisLine:{lineStyle:{color:d}}};return{tooltip:(0,n.Z)({},(0,u.H$)(e)),visualMap:{show:!1,min:l,max:p,inRange:{color:["#111675","#355594","#548dd1","#5b89e9","#70b3f8","#cfcf9f","#bea070","#dd8e41","#d44d33","#d73027","#a50026"]}},xAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[0],min:c,max:m}),yAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[1],min:f}),zAxis3D:(0,n.Z)((0,n.Z)({},I),{},{name:o[2],min:l}),grid3D:{viewControl:{},light:{main:{shadow:!0,quality:"ultra",intensity:1.2}}},animation:!1,series:[{type:t?"bar3D":"surface",wireframe:{},shading:"lambert",data:i}]}}},{key:"render",value:function(){var r=this.props,e=r.srs,a=r.theme,n=r.chartType,t=(0,u.Vd)({srs:this.props.srs,needsNumbers:3});if(null!==t)return(0,f.jsx)(u.xF,{chartType:n,reason:t});try{return(0,f.jsx)(c.Z,{option:(0,u.eW)(this.toSurfaceOption(e,a),this.props.subConfig),theme:(0,u.x_)(a),notMerge:!0})}catch(i){return(0,f.jsx)(u.xF,{chartType:n})}}}]),a}(m.Component)}}]);